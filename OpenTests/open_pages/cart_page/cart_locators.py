# Страница Корзина
from selenium.webdriver.common.by import By


class CartLocators:

    @staticmethod
    def locator_required_client_num(num_client: str):
        """Локатор для выбора клиентского номера в выпадающем списке клиентских номеров"""
        locator_required_client_num = (
            By.XPATH, f"//ul[@data-id='cart-purchase-single-select-box']//span[text()='{num_client}']")
        return locator_required_client_num

    @staticmethod
    def locator_autocorrect_code(article: str):
        """Локатор автозамены кода"""
        locator_autocorrect_code = (
            By.XPATH, f"//div[text()='{article}']/following-sibling::div[text()=' Замена материала ']"
        )
        return locator_autocorrect_code

    @staticmethod
    def locator_input_amount_by_article(article: str):
        """Локатор поля ввода количества штук по артикулу"""
        locator_input_amount_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[@class='']//input[@data-id='cart-quantity-item-input']"
        )
        return locator_input_amount_by_article

    @staticmethod
    def locator_product_information_message_by_article(article: str):
        """Локатор - информационное сообщение о продукте"""
        locator_product_information_message_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[@class='']//div[@class='col-7']//span[text()]")
        return locator_product_information_message_by_article

    @staticmethod
    def locator_product_delivery_completion_message(article: str):
        """Сообщение о завергение поставок продукта"""
        locator_product_delivery_completion_message = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[contains(@class, 'border-end-0 bg-pink')]//div[@class='response-box']")
        return locator_product_delivery_completion_message

    @staticmethod
    def locator_in_stock(article: str):
        """Локатор количество на складе по артикулу"""
        locator_in_stock = (
            By.XPATH,
            f"//span[text()='{article}']/ancestor::div[contains(@class, 'row')][last()]//span[@class='fw-bold "
            f"text-success']")
        return locator_in_stock

    @staticmethod
    def locator_btn_active_tooltip_special_price_by_article(article: str):
        """Локатор кнопка активации Тултипа спец цены по артикулу"""
        locator_tooltip_special_price_by_article = (
            By.XPATH,
            f"//a[@data-id='cart-list-item-link']/span[contains(text(), '{article}')]/following::div[@data-id='cart-special-price-tooltip']//i")
        return locator_tooltip_special_price_by_article

    @staticmethod
    def locator_message_tooltip_special_price_by_article(article: str):
        """Локатор Сообщение в тултипе спец цены по артикулу"""
        locator_message_tooltip_special_price_by_article = (
            By.XPATH,
            f"//a[@data-id='cart-list-item-link']/span[contains(text(), '{article}')]/following::div[@class='text-wrap']")
        return locator_message_tooltip_special_price_by_article

    @staticmethod
    def locator_price_list_by_article(article: str):
        """Локатор Прайс лист по артикулу"""
        locator_price_list = (
            By.XPATH, f"//span[text()='{article}']/ancestor::div[contains(@class, 'row')][last()]/div[2]//span"
        )
        return locator_price_list

    @staticmethod
    def locator_all_items_with_article_number(article: str):
        """Все элементы с артикулом"""
        locator_all_items_with_article_number = (
            By.XPATH, f"//*[contains(text(), '{article}') or contains(text(), '{article}R')]")
        return locator_all_items_with_article_number

    @staticmethod
    def locator_icon_promo_curse_by_article(article: str):
        """Локатор Иконка у артикула промо курса по артикулу"""
        locator_icon_promo_curse_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[contains(@class, 'goods-list-item_on-order')]//div[@data-id='cart-special-promo-tooltip']"
        )
        return locator_icon_promo_curse_by_article

    @staticmethod
    def locator_text_in_tooltip_promo_curse_by_article(article: str):
        """Локатор Текст в тултипе промо курса"""
        locator_text_in_tooltip_promo_curse_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[contains(@class, 'goods-list-item_on-order')]//div[@data-id='cart-special-promo-tooltip']//div[@class='text-wrap']")
        return locator_text_in_tooltip_promo_curse_by_article

    @staticmethod
    def locator_text_in_tooltip_no_promo_curse_by_article(article: str):
        """Локатор Текст в тултипе не промо курса (внутренний курс)"""
        locator_text_in_tooltip_no_promo_curse_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[contains(@class, 'goods-list-item_on-order')]//div[@data-id='cart-special-nopromo-tooltip']//div[@class='text-wrap']")
        return locator_text_in_tooltip_no_promo_curse_by_article

    @staticmethod
    def locator_icon_no_promo_curse_by_article(article: str):
        """Локатор Иконка у артикула не промо курса (внутренний курс)"""
        locator_icon_no_promo_curse_by_article = (
            By.XPATH,
            f"//span[contains(text(), '{article}')]/ancestor::div[contains(@class, 'goods-list-item_on-order')]//div[@data-id='cart-special-nopromo-tooltip']")
        return locator_icon_no_promo_curse_by_article

    LOCATOR_LOADER_HIDE_ON_PAGE = (
        By.XPATH,
        "//div[@class='preloader-content d-flex justify-content-center align-center align-items-center preloader-content__hide']"
    )  # Состояние страницы, когда лоадер скрыт
    LOCATOR_AUTOCORRECT_OLD_CODE = (
        By.XPATH,
        "//div[@class='px-2 bg-whisper-light text-decoration-line-through']")  # Старый код при автозамене
    LOCATOR_AUTOCORRECT_NEW_CODE = (
        By.XPATH,
        "//div[text()=' Замена материала ']/preceding-sibling::div[@class='px-2 ms-2 text-gray-dark bg-green-light']"
    )  # Новый код при автозамене
    LOCATOR_H1_BASKET = (By.XPATH, "//h1[text()='Корзина']")  # Заголовок Корзина
    LOCATOR_PRODUCT_INPUT = (By.XPATH, "//input[@name='search']")  # Поле ввода кодов
    LOCATOR_ADD_BUTTON = (By.XPATH, "//button[@data-id='cart-add-position-btn'] ")  # Кнопка Добавить
    LOCATOR_CONTINUE_BUTTON = (By.XPATH, "//a[@data-id='cart-continue-btn']")  # кнопка Продолжить
    LOCATOR_BUTTON_EMPTY_TRASH = (By.XPATH, "//button[@data-id='cart-clean-btn']")  # Кнопка Очистить корзину
    LOCATOR_H2_CART_IS_EMPTY = (By.XPATH, "//h2[text()=' Корзина пуста ']")  # Заголовок Корзина пуста
    LOCATOR_H2_UPDATE_YOUR_CART = (By.XPATH, "//h2[contains(text(), 'Обновление корзины...')]")
    LOCATOR_PRICE_TOTAL_CART = (
        By.XPATH, "(//div[@data-id='cart-total-price-block'])[2]")  # Итого с НДС
    LOCATOR_CLIENT_NUMBER = (
        By.XPATH,
        "//div[@data-id='cart-purchase-single-select-title']/div[@class='single-select__value-title-icon']")  # Клиентский номер
    LOCATOR_UL_CLIENT_NUMBERS = (By.XPATH, "//ul[@data-id='cart-purchase-single-select-box']"
                                 )  # Выпадающий список клиентских номеров
    LOCATOR_PRICE_LIST = (By.XPATH, "//div[@class='col-7 d-flex align-items-center']/span"
                          )  # Стоимость Прайс лист
    LOCATOR_RESPONSE_BOX_INFO = (By.XPATH, "//span[@class='response-box' or @class='fs-5 fw-bold']"
                                 )  # Сообщение в корзине, если нет материала
    LOCATOR_QUANTITY_IN_STOCK = (By.XPATH, "//span[@class='fw-bold text-success']")  # Количество на складе
    LOCATOR_INPUT_AMOUNT = (By.XPATH, "//input[@data-id='cart-quantity-item-input']")  # Поле ввода количество штук
    LOCATOR_BUTTON_UPDATE_CART = (By.XPATH, "//button[@data-id='cart-refresh-btn']")  # Кнопка Обновить корзину
    LOCATOR_MATERIAL_BLOCKED_FOR_SALE = (By.XPATH, "//span[text()='Материал заблокирован для сбыта']"
                                         )  # Сообщение о блокировке артикула для сбыта
    LOCATOR_MODAL_INFO = (By.XPATH, "//div[@id='alertModal' and @style='display: block;']")  # Информационная модалка
    LOCATOR_TEXT_IN_MODAL_INFO = (
        By.XPATH,
        "//div[@id='alertModal' and @style='display: block;']//div[@class='mb-3 fw-bold fs-6 pb-3 border-bottom border-gray'][3]"
    )  # Текст в информационной модалке
    LOCATOR_BUTTON_CLOSE_MODAL_INFO = (
        By.XPATH, "//div[@id='alertModal' and @style='display: block;']//button[@aria-label='Close']"
    )  # Кнопка Закрыть модалку
    LOCATOR_H2 = (By.XPATH, "//h2[text()]")  # Заголовок
    LOCATOR_SUPPLY_DATE = (
        By.XPATH, "//div[@class='text-warning py-2' or @class='text-warning pe-2 d-flex align-items-end']"
    )  # Дата поставки
    LOCATOR_SUPPLY_QUANTITY = (By.XPATH, "//span[@class='fw-bold text-warning']")  # Количество поставки

    LOCATOR_PLUS_ZIP = (By.XPATH, "//button[@data-id='cart-zip-active-btn']")  # Кнопка "+ ЗИП и изоляция"
    LOCATOR_CHECKBOX_ZIP = (By.XPATH, "//input[@name='lines[0][zip]']")  # Чек-бокс ЗИП
    LOCATOR_BUTTON_ADD_BASKET = (By.XPATH, "//span[text()=' Добавить в корзину ']"
                                 )  # Кнопка "Добавить в корзину" в модалке добавления ЗИП
    LOCATOR_CODE_LINK = (By.XPATH, "//a[@data-id='cart-list-item-link']")  # Код / артикул в виде ссылки
    LOCATOR_CODE_NAME = (
        By.XPATH,
        "//span[@class='col-4 d-flex flex-column flex-sm-row align-items-center py-lg-2 pe-lg-1']//span[text()][2]"
    )  # Наименование Кода / артикула
    LOCATOR_ALLOWANCES_CART = (
        By.XPATH, "//div[@class='col-5 py-2']//div[@class='col-6' and contains(., '%')]")  # Надбавки
    LOCATOR_LOADER_IN_MODAL_FOR_ADDING_ZIP = (By.XPATH, "//div[@class='modal-content disabled-block']"
                                              )  # Лоадер в модалке добавления ЗИПа
    LOCATOR_UNLOAD = (By.XPATH, "//button[@data-id='cart-unload-list-btn']")  # Кнопка Выгрузить
    LOCATOR_UNLOAD_EXCEL = (By.XPATH, "//button[@data-id='cart-unload-list-excel-btn']")  # Кнопка "Выгрузить в Excel"
    LOCATOR_COST_CALCULATION = (By.XPATH, "//button[@data-id='cart-unload-list-calculate-btn']"
                                )  # Кнопка Расчет стоимости
    LOCATOR_BTN_EDIT_ARTICLE = (By.XPATH, "//button[contains(text(), 'Редактировать')]"
                                )  # Кнопка Редактировать у артикла
    LOCATOR_INPUT_ARTICLE_WHEN_EDITING = (
        By.XPATH, "//span[contains(text(), '№/Код')]/following-sibling::input"
    )  # Поле ввода артикула при редактировании
    LOCATOR_BUTTON_SAVE_WHEN_EDITING = (
        By.XPATH, "//button[contains(text(), 'Сохранить') and @class='btn text-primary shadow-none']"
    )  # Кнопка Сохранить при редактировании артикула
    LOCATOR_INPUT_AMOUNT_WHEN_EDITING = (By.XPATH, "//span[contains(text(), 'Кол-во, шт.')]/following-sibling::input"
                                         )  # Поле ввода количество при редактировании артикула

    """Модалка заполнения расчета стоимости"""
    LOCATOR_HEADER_COST_CALCULATOR = (By.XPATH, "//span[contains(text(), 'Расчет стоимости оборудования')]")
    LOCATOR_UNLOAD_OBJECT_NAME = (By.XPATH, "//input[@name='objectName']")  # Поле для ввода Название объекта
    LOCATOR_UNLOAD_OBJECT_ADDRESS = (By.XPATH, "//input[@name='objectAddress']")  # Поле для ввода Адрес объекта
    LOCATOR_UNLOAD_CUSTOMER_NAME = (By.XPATH, "//input[@name='customerName']")  # Поле ввода имя заказчика
    LOCATOR_UNLOAD_CUSTOMER_PHONE = (By.XPATH, "//input[@name='customerPhone']")  # Поле ввода телефона
    LOCATOR_UNLOAD_BUTTON_DOWNLOAD = (By.XPATH, "//span[text()='Скачать']")  # Кнопка 'Скачать'
    LOCATOR_SENT_TO_EMAIL = (By.XPATH, "//span[text()='Отправить по e-mail']")  # Кнопка 'Отправить по e-mail'
    LOCATOR_SAVE_AS_DRAFT = (By.XPATH, "//button[text()=' Сохранить как черновик ']")  # Кнопка 'Сохранить как Черновик'

    """Окно С вами поделились корзиной"""
    LOCATOR_HEADER_SHARED_YOUR_CART_WITH_YOU = (By.XPATH, "//h1[contains(text(), 'С вами поделились корзиной')]")
    # Заголовок страницы С вами поделились Корзиной
    LOCATOR_BTN_ADD_SALES = (By.XPATH, "//button[contains(text(), ' Добавить в корзину ')]")
    # Кнопка Добавить в Корзину

    LOCATOR_TOOLTIP_ARTICLE = (By.XPATH, "//i[@class='bi bi-exclamation-circle text-danger small']"
                               )  # Тултип у артикула
    LOCATOR_HEADER_COMPOSITION_OF_SET = (By.XPATH, "//h6[contains(text(), 'Состав комплекта:')]"
                                         )  # Заголовок в тултипе Состав комплекта
    LOCATOR_NAME_ARTICLE_IN_TOOLIP_COMPOSITION_OF_SET = (
        By.XPATH, "//h6[contains(text(), 'Состав комплекта:')]/parent::div//tbody//tr/td[1]"
    )  # Наименование артикула в тултипе Состав комплекта
    LOCATOR_PROMO_ICON = (By.XPATH, "//div[@data-id='cart-special-promo-tooltip']")  # Значок промо
    LOCATOR_DISCOUNT_ARTICLE = (By.XPATH, "//div[@class='col-5 py-2']//div[@class='col-2']"
                                )  # Скидки у артикула
    LOCATOR_BTN_SWITCH_TO_UE_CURSE = (By.XPATH, "//input[@value='conventional unit']/parent::label"
                                      )  # Кнопка Переключить на курс УЕ


class CartRolLocators:
    """Корзина РОЛ, под непрямым"""
    LOCATOR_RADIO_BTN_SELLER_CHOICE = (By.XPATH, "//div[@class='row']//input[@name='radio-btn']"
                                       )  # Радио-баттон выбора рекомендуемого продавца
    LOCATOR_BTN_CHOOSE_A_DISTRIBUTOR_YOURSELF = (
        By.XPATH,
        "//span[text()='Выбрать дистрибьютора самостоятельно']/parent::button[@data-bs-target='#modalAddressInfo']"
    )  # Кнопка Выбрать дистрибьютора самостоятельно
    LOCATOR_RECOMMENDED_SELLERS = (By.XPATH, "//div[@class='pt-4']//div[@class='col-10 col-lg-3 order-1' and text()]"
                                   )  # Рекомендуемые продавцы - название фирмы


class ModalSellersChoiceLocators:
    """Локаторы модалки Выбор продавца"""

    @staticmethod
    def locator_radio_btn_seller_selection_by_name_organization(name_organization: str):
        """Локатор радио батон выбора продавца по названию организации"""
        locator_radio_btn_seller_selection_by_name_organization = (
            By.XPATH,
            f"//div[@class='distributors-list']"
            f"//span[@class='fs-5 fw-bold' and contains(text(), '{name_organization}')]/following-sibling::label/input")
        return locator_radio_btn_seller_selection_by_name_organization

    LOCATOR_HEADER = (By.XPATH, "//div[@class='modal-header']/span[contains(text(), 'Выбор продавца')]"
                      )  # Заголовок в модалке
    LOCATOR_NAME_ORGANIZATION_TO_SELECT = (
        By.XPATH, "//div[@class='distributors-list']//span[@class='fs-5 fw-bold' and text()]"
    )  # Название организации для выбора
    LOCATOR_OF_SELECTED_ORGANIZATION_ON_MAP = (By.XPATH, "//div[@id='map-popup-content']/div[1]"
                                               )  # Выбранная организация на карте
