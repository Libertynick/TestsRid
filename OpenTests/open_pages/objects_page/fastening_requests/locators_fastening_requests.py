from selenium.webdriver.common.by import By


# Страница Заявки на крепление
class FasteningRequestsLocators:
    LOCATOR_LOADER_OLD = (
        By.XPATH,
        "//body[@class='page-lk page-lk-object object-applications header-bg-4 data-overlay-active']")  # лоадер
    LOCATOR_H1_HEADER = (By.XPATH, "//h1[contains(text(), 'Заявки на крепление')]")
    LOCATOR_ADVANCED_SEARCH = (By.XPATH, "//button[@data-bs-target='#collapseAdvancedSearch']"
                               )  # Кнопка Расширенный поиск
    LOCATOR_BLOCK_OPEN_ADVANCED_SEARCH = (By.XPATH, "//div[@id='collapseAdvancedSearch' and contains(@class, 'show')]"
                                          )  # Открытый блок расширенного поиска
    LOCATOR_INPUT_NAME_OBJECT = (
        By.XPATH, "//input[@placeholder='Название / адрес / номер объекта / номер заявки на крепление']"
    )  # Инпут название/номер/адрес объекта
    LOCATOR_BUTTON_SEARCH = (By.XPATH, "//button[contains(text(), 'Найти') and @type]")  # Кнопка Найти
    LOCATOR_LINK_APPLICATION = (By.XPATH, "//a[@class='btn btn-primary-2 fs-6 fw-bold']")  # Ссылка (кнопка) заявки
    LOCATOR_BUTTON_CREATE = (By.XPATH, "//a[@href='/cabinet/objects/applications-for-attachment/create']"
                             )  # Кнопка "+Создать заявку"


class CreatingRequestForFasteningLocators:
    """Локаторы страницы Создание заявки на крепление"""

    @staticmethod
    def locator_item_drop_list_by_engineering_section(engineering_section: str):
        """Элемент в выпадающем списке Инженерный раздел по названию инженерного раздела"""
        locator_item_drop_list_by_engineering_section = (
            By.XPATH,
            f"//div[contains(text(), 'Инженерный раздел')]/parent::div/div[contains(@class, 'active')]/ul//span[contains(text(), '{engineering_section}')]"
        )
        return locator_item_drop_list_by_engineering_section

    @staticmethod
    def locator_item_in_drop_list_access_to_object_manager(value: str):
        """Элемент в выпадающем списке Доступ менеджеру объекта"""
        locator_item_in_drop_list_access_to_object_manager = (
            By.XPATH,
            f"//div[contains(text(), 'Доступ')]/following-sibling::div[contains(@class, 'active')][2]/ul//span[contains(text(), '{value}')]"
        )
        return locator_item_in_drop_list_access_to_object_manager

    LOCATOR_LOADER_MODAL = (
        By.XPATH,
        "//body[@class='page-lk page-lk-object object-applications header-bg-4 data-overlay-active']")  # Лоадер
    LOCATOR_LOADER_IN_INPUT_OBJECT_NAME = (
        By.XPATH,
        "//input[@name='object[name]']/following-sibling::span/span[@class='spinner-border spinner-border-sm']"
    )  # Лоадер в поле ввода Название объекта
    LOCATOR_HEADER_IN_MODAL = (
        By.XPATH, "//div[contains(text(), 'Заявка на крепление')]")  # Заголовок в модалке заявки на крепление готовой
    LOCATOR_HEADER_CREATING_REQUEST_FOR_FASTENING = (
        By.XPATH, "//h1[contains(text(), 'Создание заявки на крепление')]"
    )  # Заголовок Создание заявки на крепление
    LOCATOR_BUTTON_EDIT = (By.XPATH, "//a[contains(text(), 'Редактировать заявку')]")  # Кнопка Редактировать заявку
    LOCATOR_EDIT_HEADER = (
        By.XPATH, "//div[contains(text(), 'Редактирование заявки на крепление')]")  # Заголовок Редактирование заявки
    LOCATOR_BUTTON_INVESTOR_CUSTOMER = (
        By.XPATH, "//div[text()='Инвестор/заказчик']")  # Раздел Инвестор/Заказчик (кнопка)
    LOCATOR_INPUT_COMPANY_NAME_OR_INN = (
        By.XPATH, "//input[@name='users[Customer][Name]']")  # Поле ввода "название или инн компании"
    LOCATOR_INPUT_EMAIL_INVESTOR = (
        By.XPATH, "//input[@name='users[Customer][Email]']")  # Поле ввода email в разделе Инвестор-Заказчик
    LOCATOR_BUTTON_SEND_FOR_APPROVAL = (
        By.XPATH, "//input[@value='Отправить на согласование']")  # Кнопка Отправить на согласование
    LOCATOR_BUTTON_LEARN_MORE = (By.XPATH, "//a[contains(text(), 'Подробнее')]")
    LOCATOR_INPUT_NAME_OBJECT = (By.XPATH, "//input[@name='object[name]']")  # Поле ввода название объекта
    LOCATOR_CHECK_BOX_ENTER_NAME_YOURSELF = (By.XPATH, "//input[contains(@class, 'form-check-input__secondary')]"
                                             )  # Чек-бокс Ввести название самостоятельно
    LOCATOR_SELECTED_SALES_OFFICE = (
        By.XPATH, "//div[contains(text(), 'Офис продаж')]/following-sibling::div[1]//span[text()]"
    )  # Выбранный офис продаж
    LOCATOR_ACTIVE_UL_OBJECTS = (
        By.XPATH,
        "//input[@name='object[name]']/parent::label/following-sibling::ul[contains(@class, 'active')]"
    )  # Активный выпадающий список в поле ввода Название объекта
    LOCATOR_LI_IN_UL_OBJECT_NAME = (
        By.XPATH,
        "//input[@name='object[name]']/parent::label/following-sibling::ul[contains(@class, 'active')]/li"
    )  # Значение в выпадающем списке Название объекта (все)
    LOCATOR_INPUT_ADDRESS_OBJECT = (
        By.XPATH, "//input[@name='object[address]' and @form='save-application']")  # Поле ввода адреса

    LOCATOR_BTN_DROP_UL_ENGINEERING_SECTION = (
        By.XPATH,
        "//input[@name='object[specType]']/preceding-sibling::div[@class='single-select__value-title-icon']"
    )  # Кнопка выпадающего списка Инженерный раздел (открытие, закрытие)
    LOCATOR_ACTIVE_DROP_UL_ENGINEERING_SECTION = (
        By.XPATH, "//div[contains(text(), 'Инженерный раздел')]/parent::div/div[contains(@class, 'active')]/ul"
    )  # Активный выпадающий список Инженерный раздел
    LOCATOR_SELECTED_ENGINEER_SECTION = (
        By.XPATH,
        "//div[contains(text(), 'Инженерный раздел')]/parent::div//div[contains(@class, 'text-truncate')]/span"
    )  # Выбранный инженерный раздел
    LOCATOR_BTN_DROP_UL_ACCESS_TO_OBJECT_MANAGER = (
        By.XPATH,
        "//div[contains(text(), 'Доступ')]/following-sibling::div[@data-id='-single-select-title']/div[@class='single-select__value-title-icon']"
    )  # Кнопка выпадающего списка Доступ менеджеру объекта (открытие, закрытие)
    LOCATOR_ACTIVE_DROP_UL_ACCESS_TO_OBJECT_MANAGER = (
        By.XPATH,
        "//div[contains(text(), 'Доступ')]/following-sibling::div[contains(@class, 'active')][2]/ul"
    )  # Активный выпадающий список Доступ менеджеру объекта
    LOCATOR_ITEM_IN_DROP_UL_ACCESS_TO_OBJECT_MANAGER = (
        By.XPATH,
        "//div[contains(text(), 'Доступ')]/following-sibling::div[contains(@class, 'active')][2]/ul//span[text()]"
    )  # Элементы в выпадающем списке Доступ менеджеру объекта
    LOCATOR_SELECTED_ACCESS_TO_OBJECT_MANAGER = (
        By.XPATH,
        "//div[contains(text(), 'Доступ')]/following-sibling::div[@data-id='-single-select-title']//span[@data-value-element]"
    )  # Выбранный доступ менеджеру объекта в выпадающем списке
    LOCATOR_INPUT_SPECIFICATION = (By.XPATH, "//input[@id='specificationFiles']")  # Инпут для загрузки спецификации
    LOCATOR_INPUT_WITH_LOADED_SPECIFICATION_FILES = (By.XPATH, "//input[@name='object[files][specifications][0]']"
                                                     )  # Инпут с подгруженными файлами спецификации
    LOCATOR_ADDITIONAL_DISTRIBUTOR_DETAILS_BTN = (By.XPATH, "//button[@data-bs-target='#collapse-distributor']"
                                                  )  # Кнопка раскрытия/закрытия раздела Дополнительные данные дистрибьютора
    LOCATOR_INVESTOR_CUSTOMER_SECTION_BTN = (By.XPATH, "//button[@data-bs-target='#collapse-customer']"
                                             )  # Кнопка раскрытия/закрытия раздела Инвестор/Заказчик
    LOCATOR_INVESTOR_CUSTOMER_SECTION_OPEN = (By.XPATH, "//div[@id='collapse-customer' and contains(@class, 'show')]"
                                              )  # Раздел Инвестор/Заказчик раскрытый
    LOCATOR_INPUT_NAME_COMPANY_OR_INN_IN_SECTION_INVESTOR_CUSTOMER = (
        By.XPATH, "//input[@name='customer[companyName]']"
    )  # Поле ввода Название или ИНН компании в разделе Инвестор/Заказчик
    LOCATOR_ITEM_IN_DROP_LIST_NAME_OR_INN_COMPANY_SECTION_INVESTOR_CUSTOMER = (
        By.XPATH, "//div[@id='collapse-customer']//ul[contains(@class, 'active')]//span[text()]"
    )  # Элементы в выпадающем списке Название или ИНН компании в разделе Инвестор/Заказчик
    INPUT_CONTACT_PERSON_INVESTOR_CUSTOMER = (By.XPATH, "//input[@name='customer[fullName]']"
                                              )  # Поле ввода Контактное лицо в разделе Инвестор/Заказчик
    INPUT_MAIL_ADDRESS_INVESTOR_CUSTOMER = (By.XPATH, "//input[@name='customer[email]']"
                                            )  # Поле ввода мэйл в разделе Инвестор/Заказчик

    INPUT_PHONE_INVESTOR_CUSTOMER = (By.XPATH, "//input[@name='customer[phone]']"
                                     )  # Поле ввода Телефон в разделе Инвестор/Заказчик
    LOCATOR_GENERAL_CONTRACTOR_BTN = (By.XPATH, "//button[@data-bs-target='#collapse-generalContractor']"
                                      )  # Кнопка раскрытия/закрытия раздела Генеральный подрядчик
    LOCATOR_GENERAL_CONTRACTOR_OPEN = (
        By.XPATH, "//button[@aria-expanded='true' and @data-bs-target='#collapse-generalContractor']"
    )  # Раскрытый раздел Генеральный подрядчик
    LOCATOR_INPUT_NAME_COMPANY_OR_INN_IN_SECTION_GENERAL_CONTRACTOR = (
        By.XPATH, "//input[@name='generalContractor[companyName]']"
    )  # Поле ввода Название или ИНН компании в разделе Генеральный подрядчик
    LOCATOR_ITEM_IN_DROP_LIST_NAME_OR_INN_COMPANY_SECTION_GENERAL_CONTRACTOR = (
        By.XPATH, "//div[@id='collapse-generalContractor']//ul[contains(@class, 'active')]//span[text()]"
    )  # Элементы в выпадающем списке Название или ИНН компании в разделе Генеральный подрядчик
    INPUT_CONTACT_PERSON_SECTION_GENERAL_CONTRACTOR = (By.XPATH, "//input[@name='generalContractor[fullName]']"
                                                       )  # Поле ввода Контактное лицо в разделе Генеральный подрядчик
    INPUT_MAIL_ADDRESS_GENERAL_CONTRACTOR = (By.XPATH, "//input[@name='generalContractor[email]']"
                                             )  # Поле ввода мэйл в разделе Генеральный подрядчик
    INPUT_PHONE_GENERAL_CONTRACTOR = (By.XPATH, "//input[@name='generalContractor[phone]']"
                                      )  # Поле ввода Телефон в разделе Генеральный подрядчик
    LOCATOR_TOGGLE_SWITCH_IS_BUYER_GENERAL_CONTRACTOR = (
        By.XPATH, "//input[@name='generalContractor[isBuyer]']"
    )  # Тумблер переключения Является закупщиком в разделе Генеральный подрядчик
    LOCATOR_BTN_SEND = (By.XPATH, "//button[contains(text(), 'Отправить')]")  # Кнопка Отправить

    LOCATOR_BTN_DROP_UL_MARKET = (By.XPATH, "//div[contains(text(), 'Рынок')]/following-sibling::div[1]"
                                  )  # Кнопка для раскрытия выпадающего списка Рынок (выбранное значение)
    LOCATOR_DROP_UL_MARKET = (By.XPATH, "//div[contains(text(), 'Рынок')]/following-sibling::div[2]//ul"
                              )  # Выпадающий список Рынок
    LOCATOR_ITEM_VALUE_IN_DROP_UL_MARKET = (
        By.XPATH,
        "//div[contains(text(), 'Рынок')]/following-sibling::div[2]//ul/li//span[text()]"
    )  # Значения в выпадающем списке Рынок
    LOCATOR_SELECTED_MARKET = (By.XPATH, "//div[contains(text(), 'Рынок')]/following-sibling::div[1]//span[text()]"
                               )  # Выбранный рынок


class ModalNumberOfYourApplicationLocators:
    """Локаторы модалки Номер вышей заявки"""
    LOCATOR_HEADER = (By.XPATH, "//h5[@id='exampleModalLabel']")  # Заголовок
    LOCATOR_BTN_RETURN_TO_APPLICATION_LIST = (By.XPATH, "//a[contains(text(), 'Вернуться в список заявок')]"
                                              )  # Кнопка Вернуться в список заявок
