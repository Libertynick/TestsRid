from selenium.webdriver.common.by import By


class ShipmentInStockLocators:
    """Статусы отгрузок. На складе"""
    LOCATOR_HEADER_H1 = (By.XPATH, "//h1[text()='Статусы отгрузок']")
    LOCATOR_SEARCH_INPUT_ORDER = (
        By.XPATH, "//span[text()='Заказ']/following-sibling::div/input[@placeholder='Введите значение']"
    )  # Поле поиска заказа
    LOCATOR_LOADER_IN_ORDER_SEARCH_FIELD = (
        By.XPATH, "//span[text()='Заказ']/following-sibling::div//span[@class='spinner-border spinner-border-sm']"
    )  # Лоадер в поле поиска заказа
    LOCATOR_BLOCK_ORDER = (By.XPATH, "//div[@class='accordion-body py-0 px-3']")  # Блок с заказом
    LOCATOR_LINK_ORDER = (By.XPATH, "//span[contains(text(), 'Заказ: ')]/a[text()]")  # Ссылка на заказ
    LOCATOR_CHECKBOX_REQUEST_SHIPMENT_OF_YOUR_ENTIRE_ORDER = (
        By.XPATH,
        "//label[@class='position-relative d-inline-flex align-items-center cursor-pointer rounded p-lg-2 p-1 bg-gray']/input"
    )  # Чек-бокс Запросить отгрузку всего заказа
    LOCATOR_INACTIVE_BUTTON_REQUEST_SHIPMENT = (
        By.XPATH, "//button[@class='btn btn-danger fw-bold py-2 px-4 border-0 bg-gray opacity-100' and @disabled]"
    )  # Неактивная кнопка Запросить отгрузку
    LOCATOR_BUTTON_REQUEST_SHIPMENT = (By.XPATH, "//button[@class='btn btn-danger fw-bold py-2 px-4 border-0']"
                                       )  # Кнопка Запросить отгрузку


class ShipmentInTransitLocators:
    """Страница В пути"""
    LOCATOR_H3_HEADER = (By.XPATH, "//h3[text()='Итого в пути']")  # Заголовок Итого в пути
    LOCATOR_DIV_DELIVERY_IN_TRANSIT = (By.XPATH, "//div[@class='accordion']")  # Блоки доставок, которые в пути
    LOCATOR_BUTTON_DISCLOSURE = (
        By.XPATH,
        "//h3[text()='Итого в пути']/following::button[contains(@class, 'border-0')][1]")
    # Кнопка в виде плюсика для раскрытия информации о оставке
    LOCATOR_BLOCK_WITH_INFORMATION = (By.XPATH,
                                      "//div[@class='accordion-collapse collapse show']")
    # Блок с информацией о доставке, который раскрывается после нажатия на кнопку в виде плюсика


class ModalTermsOfShipmentLocators:
    """Локаторы модалки Условия отгрузки"""

    @staticmethod
    def locator_method_delivery(method_delivery: str):
        """Локатор способа доставки"""
        locator_method_delivery = (By.XPATH, f"//li//span[text()='{method_delivery}']")
        return locator_method_delivery

    @staticmethod
    def locator_li_result_search_delivery_address(delivery_address: str):
        """Локатор адреса доставки в результате поиска"""
        locator_li_result_search_delivery_address = (
            By.XPATH,
            f"//div[text()='Адрес доставки']/following-sibling::div//ul/li[contains(., '{delivery_address}')]")
        return locator_li_result_search_delivery_address

    LOCATOR_HEADER_MODAL = (By.XPATH, "//h3[text()='Условия отгрузки']")  # Заголовок модалки
    LOCATOR_DELIVERY_METHODS_DROP_DOWN_MENU_BUTTON = (
        By.XPATH, "//span[text()='Выберите способ доставки']/following-sibling::div[1]"
    )  # кнопка выпадающего меню способов доставки
    LOCATOR_MENU_DELIVERY_METHOD = (By.XPATH, "//span[text()='Выберите способ доставки']/following-sibling::ul"
                                    )  # Выпадающее меню способов доставки
    LOCATOR_INPUT_DELIVERY_ADDRESS = (By.XPATH, "//input[@name='delivery[address][value]']"
                                      )  # Поле ввода адреса доставки
    LOCATOR_SELECTED_DELIVERY_METHOD = (
        By.XPATH, "//span[text()='Выберите способ доставки']/following-sibling::div//span[text()]"
    )  # Выбранный способ доставки
    LOCATOR_BUTTON_CALCULATE_DELIVERY_COSTS = (
        By.XPATH, "//span[text()='Рассчитать стоимость доставки']/parent::button"
    )  # Кнопка Рассчитать стоимость доставки
    LOCATOR_BUTTON_CALCULATE_DELIVERY_COSTS_DISABLED = (
        By.XPATH, "//span[text()='Рассчитать стоимость доставки']/parent::button[@disabled]"
    )  # Кнопка Рассчитать стоимость доставки
    LOCATOR_DELIVERY_COST = (By.XPATH, "//input[@name='delivery[payment][cost]']/preceding-sibling::span"
                             )  # Стоимость доставки
    LOCATOR_DELIVERY_CALCULATION_LOADER = (
        By.XPATH, "//span[@class='d-inline-block animate-rotate-360-1s-linear-infinity']"
    )  # Лоадер расчета стоимости доставки
    LOCATOR_BUTTON_SEND_REQUEST = (By.XPATH, "//button[@form='requestShipmentForm']")  # Кнопка Отправить запрос
    LOCATOR_LOADER_BTN_SEND_REQUEST = (By.XPATH, "//div[@class='spinner-border spinner-border-md']"
                                       )  # Лоадер на кнопке Отправить запрос
    LOCATOR_RESPONSE_JSON_TST = (By.XPATH, "//h3[text()='reopenResponse']/following-sibling::pre[1]"
                                 )  # Ответ в виде json, тестовый режим
