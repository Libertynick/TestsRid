from selenium.webdriver.common.by import By


class StandardPtoCalculationLocators:
    """Локаторы для страницы Стандартного расчета конфигураторов ПТО"""

    @staticmethod
    def locator_btn_tooltip_info_price_by_solution(name_solution: str):
        """Кнопка тултипа информации о цене по имени решения"""
        locator_btn_tooltip_info_price_by_solution = (
            By.XPATH,
            f"//span[contains(text(), '{name_solution}')]//ancestor::div[@data-solution-id]//p[contains(@class, 'solution__param--2')]//*[local-name()='svg' and @class='d-none d-lg-inline']")
        return locator_btn_tooltip_info_price_by_solution

    @staticmethod
    def locator_price_ue_by_solution(name_solution: str):
        """Стоимость в УЕ по наименованию решения"""
        locator_price_ue_by_solution = (
            By.XPATH,
            f"//span[contains(text(), '{name_solution}')]//ancestor::div[@data-solution-id]//span[@data-solution-price and not(@class)]")
        return locator_price_ue_by_solution

    LOCATOR_H1_HEADER = (By.XPATH, "//h1[text()='Стандартный расчёт ПТО']")
    LOCATOR_BTN_STANDARD_MODE = (By.XPATH, "//button[@data-bs-target='#standart']")  # Кнопка Стандартный режим
    LOCATOR_HEADER_MAIN_CALCULATION_PARAMETERS = (
        By.XPATH, "//p[@class='configurator__title' and contains(text(), 'Основные параметры расчёта')]"
    )  # Заголовок Основные параметры расчета
    LOCATOR_HEAT_SUPPLY_INPUT = (
        By.XPATH, "//label[text()='Теплоснабжение']/preceding-sibling::input")  # Инпут Теплоснабжение
    LOCATOR_HEAT_SUPPLY_BUTTON = (
        By.XPATH, "//label[text()='Теплоснабжение']")  # Кнопка выыбора Теплоснабжение в Назначение расчета
    LOCATOR_POWER_INPUT = (By.XPATH, "//div[@id='standart']//input[@name='Q']")  # Инпут Мощность
    LOCATOR_HOT_WATER_IN_INPUT = (
        By.XPATH, "//div[@id='standart']//input[@name='T1']")  # Инпут горячая вода Температура на входе в ПТО
    LOCATOR_COLD_WATER_IN_INPUT = (By.XPATH, "//div[@id='standart']//input[@name='T3']"
                                   )  # Инпут холодная вода Температура на входе в ПТО
    LOCATOR_HOT_WATER_FROM_INPUT = (By.XPATH, "//div[@id='standart']//input[@name='T2']"
                                    )  # Инпут горячая вода Температура на выходе из ПТО
    LOCATOR_COLD_FROM_INPUT = (By.XPATH, "//div[@id='standart']//input[@name='T4']"
                               )  # Инпут холодня вода Температура на выходе из ПТО
    LOCATOR_PICK_PTO = (By.XPATH, "//button[text()='Подобрать ПТО']")  # Кнопка Подобрать ПТО
    LOCATOR_BUTTON_GENERATE_A_QUESTIONNAIRE = (By.XPATH, "//button[@data-bs-target='#questionnaire']"
                                               )  # Кнопка Сформировать опросный лист
    LOCATOR_H2_GENERATE_A_QUESTIONNAIRE = (By.XPATH, "//h2[text()='Сформировать опросный лист']"
                                           )  # Заголовок Сформировать опросный лист
    LOCATOR_RESULT_PTO = (By.XPATH, "//div[contains(@class, 'solution ')]")  # Результаты подбора ПТО
    LOCATOR_LINK_SOLUTION_DETAILS = (
        By.XPATH,
        "//a[contains(@class, 'solution__name ')]")  # Ссылка на детали решения(все элементы на странице-список)
    LOCATOR_NAME_SOLUTION = (By.XPATH, "//span[@data-solution-name]")  # Наименование подобранного решения
    LOCATOR_MODAL = (By.XPATH, "//div[@class='modal-content']")  # Модальное окно
    LOCATOR_BUTTON_CLOSE_MODAL_DETAILS = (
        By.XPATH, "//button[@class='btn-close fs-5']")  # Кнопка Закрыть модалку деталей решения
    LOCATOR_SAVE_SOLUTION = (
        By.XPATH, "//span[text()='Сохранить расчет']")  # Кнопка Сохранить расчет в подобранном решении
    LOCATOR_H5_SAVE_CALCULATION = (By.XPATH, "//h5[text()='Сохранить расчет']")  # Заголовок Сохранить расчет в модалке
    LOCATOR_INPUT_NAME_OBJ = (By.XPATH, "//input[@name='ProjectObject[Name]']")  # Поле ввода названия объекта
    LOCATOR_INPUT_DESCRIPTION = (By.XPATH, "//input[@name='ProjectObject[Comment]']")  # Поле ввода комментария
    LOCATOR_BUTTON_SAVE_IN_MODAL = (By.XPATH, "//button[text()='Сохранить расчет']")  # Кнопка сохранить расчет
    LOCATOR_H5_NUM_CALCULATION = (By.XPATH, "//h5[@id='exampleModalLabel']")  # Заголовок с номером расчета
    LOCATOR_CALCULATIONS_OF_OL_AND_PTO = (By.XPATH, "//a[text()='Расчеты ОЛ и ПТО']")  # Кнопка Расчеты ОЛ и ПТО
    LOCATOR_FIELD_DESCRIPTION_OF_THE_QUESTIONNAIRE = (By.XPATH, "//textarea[@name='projectObject[comment]']"
                                                      )  # поле Описание опросного листа
    LOCATOR_BUTTON_SEND_TO_BILLING_DEPARTMENT = (By.XPATH, "//button[text()='Отправить в расчетный отдел']"
                                                 )  # Кнопка Отправить в расчетный отдел
    LOCATOR_MODAL_WITH_THE_NUMBER_OF_THE_QUESTIONNAIRE = (
        By.XPATH, "//h5[@id='exampleModalLabel' and text()='Спасибо за обращение!']"
    )  # модалка с номером опросного листа
    LOCATOR_LINE_WITH_THE_NUMBER_OF_THE_QUESTIONNAIRE_IN_MODAL = (
        By.XPATH, "//p[contains(text(), 'Номер опросного листа:')]")  # Строка с номером опросного листа в модалке
    LOCATOR_BUTTON_TWO_STAGE_MIXED_GWS_2 = (By.XPATH, "//a[contains(text(), 'Двухступенчатая смешанная схема ГВС2')]"
                                            )  # Кнопка Двухступенчатая смешанная схема ГВС2
    LOCATOR_BTN_TOOLTIP_INFO_PRICE = (
        By.XPATH, "//p[contains(@class, 'solution__param--2')]//*[local-name()='svg' and @class='d-none d-lg-inline']"
    )  # Кнопка для отображения тултипа с информацией о расчете стоимости


class TwoStageMixedGws2Locators:
    """Локаторы страницы Двухступенчатая смешанная схема ГВС2"""
    LOCATOR_H1_GWS_2 = (By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']")  # Заголовок
    LOCATOR_RETURN_HEATING_WATER_TEMPERATURE_CO = (By.XPATH, "//input[@data-name='Tco']"
                                                   )  # Поел Температура обратной теплосетевой воды СО
    LOCATOR_HEATING_SIDE_LOSS_1_STAGE = (By.XPATH, "//input[@data-name='step1[Rh]']"
                                         )  # Потери по греющей стороне 1 ступень
    LOCATOR_HEATING_SIDE_LOSS_2_STAGE = (By.XPATH, "//input[@data-name='step2[Rh]']"
                                         )  # Потери по греющей стороне 2 ступень
    LOCATOR_HEAT_LOSS_1 = (By.XPATH, "//input[@data-name='step1[Rc]']")  # Поле № 1 Потери по нагреваемой стороне
    LOCATOR_HEAT_LOSS_2 = (By.XPATH, "//input[@data-name='step2[Rc]']")  # Поле № 2 Потери по нагреваемой стороне
    LOCATOR_MARGIN_OF_SURFACE_FOR_CONTAMINATION_1 = (By.XPATH, "//input[@data-name='step1[X]']"
                                                     )  # Поле № 1 Запас поверхности на загрязнение
    LOCATOR_MARGIN_OF_SURFACE_FOR_CONTAMINATION_2 = (By.XPATH, "//input[@data-name='step2[X]']"
                                                     )  # Поле № 2 Запас поверхности на загрязнение
    LOCATOR_RADIO_BUTTON_AUTOMATICALLY_SPLIT_LOAD_OF_GWS_SYSTEM = (
        By.XPATH, "//input[@data-name='QSplit']")  # Радио-баттон Автоматически разбивать нагрузки системы ГВС
    LOCATOR_CHECKBOX_CALCULATION_SCHEME_MONOBLOCK = (By.XPATH, "//input[@name='SolutionType' and @value='Mono']"
                                                     )  # Чек-бокс Схема расчета Моноблок
    LOCATOR_BUTTON_ADVANCED = (By.XPATH, "//button[@id='advanced-tab']")  # Кнопка Расширенный
    LOCATOR_ACTIVE_BUTTON_ADVANCED = (By.XPATH, "//button[@id='advanced-tab']")  # Кнопка Расширенный
    LOCATOR_RADIO_BUTTON_INCLUDE_COUNTER_FLANGES_IN_PRICE = (By.XPATH, "//input[@data-name='IncludeFlanges']"
                                                             )  # Радио-баттон Включить в стоимость ответные фланцы
    LOCATOR_RADIO_BUTTON_ALLOW_PROGRAM_TO_CHANGE_INITIAL_DATA = (By.XPATH, "//input[@data-name='IncludeFlanges']"
                                                                 )  # Радио-баттон Включить в стоимость ответные фланцы
    LOCATOR_INPUT_HEATING_WATER_SUPPLY_TEMPERATURE_SUMMER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T1'][3]"
    )  # Поле ввода Температура подающей теплосетевой воды Лето
    LOCATOR_INPUT_HEATING_WATER_SUPPLY_TEMPERATURE_WINTER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T11'][3]"
    )  # Поле ввода Температура подающей теплосетевой воды Зима
    LOCATOR_HEATING_WATER_RETURN_TEMPERATURE_SUMMER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T2'][3]"
    )  # Температура обратной теплосетевой воды Лето
    LOCATOR_HEATING_WATER_RETURN_TEMPERATURE_WINTER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T21'][3]"
    )  # Температура обратной теплосетевой воды Зима
    LOCATOR_HEATING_SYSTEM_POWER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='Q1'][3]"
    )  # Мощность системы отопления
    LOCATOR_UNIT_OF_MEASUREMENT_POWER_OF_HEATING_SYSTEM = (
        By.XPATH,
        "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::select[@aria-label='Единицы измерения мощности системы отопления'][3]"
    )  # Единица измерения мощности системы отопления
    LOCATOR_COLD_WATER_TEMPERATURE = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T3'][3]"
    )  # Температура холодной воды
    LOCATOR_HOT_WATER_TEMPERATURE = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='T4'][3]"
    )  # Температура нагретой воды ГВС (ТЗ)
    LOCATOR_GWS_SYSTEM_POWER = (
        By.XPATH, "//h1[text()='Двухступенчатая смешанная схема ГВС2']//following::input[@data-name='Q'][3]"
    )  # Мощность системы ГВС
    LOCATOR_SELECT_BUTTON = (By.XPATH, "//button[text()='Подобрать ПТО']")  # Кнопка Подобрать ПТО
    LOCATOR_RESULT_SELECTION = (
        By.XPATH, "//div[contains(@class, 'solution position-relative border') and @data-solution-id]"
    )  # Результат подбора
    LOCATOR_CALCULATION_DETAILS = (By.XPATH, "//a[@class='solution__name mb-lg-0 d-block mb-2']")  # Детали расчета
    LOCATOR_BUTTON_CLOSE_CALCULATION_DETAILS = (
        By.XPATH, "//h5[contains(text(), 'Детали расчета')]/following-sibling::button[@aria-label='Close']"
    )  # Кнопка закрытия деталей расчета
    LOCATOR_HEADER_CALCULATION_DETAILS = (By.XPATH, "//h5[contains(text(), 'Детали расчета')]"
                                          )  # Заголовок Детали расчета
    LOCATOR_BUTTON_VERIFICATION_CALCULATION = (By.XPATH, "//span[text()='Поверочный расчет ГВС2']/parent::a"
                                               )  # Кнопка Поверочный расчет ГВС2
    LOCATOR_CHECKBOX_CHOOSE_SOLUTION = (By.XPATH, "//label[@aria-label='Выбрать решение']/input"
                                        )  # Чек-бокс Выбор решения
    LOCATOR_BUTTON_CALCULATION_TO_SAVE_SELECTED_SOLUTION = (By.XPATH, "//button[@id='total-block-save']"
                                                            )  # Кнопка Сохранить расчет выбранного решения через чек-бокс


class ModalSaveCalculationLocators:
    """Локаторы модалки Сохранить расчет"""
    LOCATOR_HEADER_SAVE_CALCULATION = (By.XPATH, "//h5[@id='exampleModalLabel' and text()='Сохранить расчет']"
                                       )  # Заголовок
    LOCATOR_INPUT_OBJECT_NAME = (By.XPATH, "//input[@id='object_caption']")  # Поле ввода Название объекта
    LOCATOR_INPUT_DESCRIPTION_FOR_CALCULATION = (By.XPATH, "//input[@id='message-text-0']"
                                                 )  # Поле ввода Описание к расчету
    LOCATOR_BUTTON_SAVE_CALCULATION = (
        By.XPATH, "//div[@class='modal fade undefined show']//button[@class='btn btn-primary']"
    )  # Кнопка Сохранить расчет
    LOCATOR_HEADER_SUCCESSFUL_SAVEMENT = (
        By.XPATH, "//h5[@id='exampleModalLabel' and text()='Расчет успешно сохранен!']"
    )  # Заголовок Расчет успешно сохранен
    LOCATOR_CALCULATION_NUMBER = (
        By.XPATH, "//p[text()=' Номера ваших расчетов: ']/following-sibling::p")  # Номер расчета
    LOCATOR_BUTTON_CALCULATION_OF_OL_AND_PTO = (
        By.XPATH, "//div[@id='modalDefaultBox']//a[@href='/cabinet/calculations/pto']"
    )  # Кнопка Расчета ОЛ и ПТО


class VerificationCalculationGws2Locators:
    """Локаторы страницы Поверочный расчет ГВС2"""
    LOCATOR_HEADER_VERIFICATION_CALCULATION = (By.XPATH, "//h1[text()='Поверочный расчет ГВС2']"
                                               )  # Заголовок Поверочный расчет
