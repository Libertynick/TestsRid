from config import ProdEnvironment
from open_pages.header.header_page import Header, BlockSearch
from open_pages.product_page.product_page import ProductPage


def checking_the_product_card(browser, article):
    """32837 Проверка карточки продукции"""
    link_open = ProdEnvironment.OPEN_URL

    page = Header(browser, link_open)
    page.open()

    page = BlockSearch(browser, link_open)
    page.enter_article_in_search_field(article)
    page.go_to_found_product_from_drop_down_list(article)

    page = ProductPage(browser, link_open)
    page.checking_that_headings_in_product_description_are_not_empty()
    page.checking_that_product_information_is_not_empty()
    page.checking_that_src_attribute_in_photo_in_carousel_is_not_empty()

    page.click_on_characteristics_button_if_there_is_one()
    page.checking_that_headers_in_characteristics_are_not_empty()
    page.checking_that_information_in_characteristics_are_not_empty()

    page.click_btn_documentation()
    page.click_btn_passport()
    page.download_passport(article)

    page.click_btn_certificate()
    page.download_certificate()

    # page.click_btn_replacement_letter()
    # page.download_replacement_letter()

# @pytest.mark.parametrize('article', ['003L0145R'])
# def test_32837_checking_the_product_card(browser, article):
#     """32837 Проверка карточки продукции"""
#     checking_the_product_card(browser, article)
