from base_page.base_page import BasePage
from crm_pages.athorization_page.authorization_page_locators import AuthorizationPageLocators
from crm_pages.header_page.header_page_locators import HeaderPageLocator


class AuthorizationPage(BasePage):
    """Страница авторизации (extru)"""

    def authorization_extru(self, login='RUCO1681', password='1234'):
        """
        Авторизация. extru - через внешний портал
        По умолчанию логин- Оганесян Левон, пароль 1234 общий для всех учеток
        :param login: Логин
        :param password: Пароль
        :return: None
        """
        self.waiting_element_is_visibility_on_the_page(AuthorizationPageLocators.LOCATOR_BTN_LOGIN, sec=5)
        input_login = self.find_element(AuthorizationPageLocators.LOCATOR_INPUT_LOGIN)
        input_password = self.find_element(AuthorizationPageLocators.LOCATOR_INPUT_PASSWORD)

        input_login.clear()
        input_login.send_keys(login)

        input_password.clear()
        input_password.send_keys(password)

        btn_login = self.find_element(AuthorizationPageLocators.LOCATOR_BTN_LOGIN)
        btn_login.click()
        self.waiting_element_is_visibility_on_the_page(HeaderPageLocator.LOCATOR_BTN_USER)
