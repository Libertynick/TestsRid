from selenium.webdriver.common.by import By


class EditingOrganizationLocators:
    """Локаторы страницы Редактирование организации"""

    @staticmethod
    def locator_item_ul_by_text(text_item: str):
        """
        Локатор Элемент в выпадающем списке по тексту
        :param text_item: Текст элемента в выпадающем списке
        """
        locator_item_ul_by_text = (By.XPATH, f"//li//*[contains(text(), '{text_item}')]")
        return locator_item_ul_by_text

    LOCATOR_HEADER_H4 = (By.XPATH, "//h4[text()='Редактирование контрагента']")  # Заголовок Редактирование контрагента
    LOCATOR_TITLE_TRANSACTIONS = (By.XPATH, "//a[@title='Сделки']")  # Вкладка Сделки
    LOCATOR_LOADER_IN_TITLE_TRANSACTIONS = (By.XPATH, "//div[@class='mcChildsHolder']//div[@class='loader']"
                                            )  # Лоадер на вкладке Сделки
    LOCATOR_BUTTON_CREATE = (By.XPATH, "//button[@class='btn btn-sm btn-info btn-create']")  # Кнопка Создать
    LOCATOR_TITLE_DISCOUNTS = (By.XPATH, "//a[@title='Скидки']")  # Вкладка Скидки
    LOCATOR_COLUMN_HEADING_CONTRACT = (By.XPATH, "//th[text()='Договор']")  # Заголовок колонки договор
    LOCATOR_INPUT_INN_ORGANIZATION = (By.XPATH, "//input[@field='INN']")  # Поле ввода ИНН организации
    LOCATOR_BTN_KP_ROL = (By.XPATH, "//div[@field='offerROL']/a")  # Кнопка +КП РОЛ
    LOCATOR_INPUT_SEARCH_TITLE = (By.XPATH, "//input[@field='name']")  # поле ввода Название для поиска
    LOCATOR_SELECTED_FORM = (By.XPATH, "//div[@select2='OLF']//span[text()]")  # Выбранная форма
    LOCATOR_SELECTED_PLAYER = (
        By.XPATH, "//div[@select2='newSegmentId']//span[text()]")  # Выбранное значение в поле Игрок
    LOCATOR_SELECTED_RESPONSIBLE_MANAGER = (
        By.XPATH, "//div[@select2='manager']//span[text()]")  # Выбранный ответственный менеджер
    LOCATOR_BTN_ACTIVATE_UL_DIRECTION = (
        By.XPATH, "//div[@select2='specializations']")  # Кнопка активации выпадающего списка Направление
    LOCATOR_SELECTED_DIRECTION = (
        By.XPATH,
        "//div[@select2='specializations']//ul[@class='select2-choices']//div[text()]")  # Выбранное направление
    LOCATOR_ACTIVATE_UL_SEGMENTS = (
        By.XPATH, "//div[@select2='segments']")  # Кнопка активации выпадающего списка Сегмент
    LOCATOR_SELECTED_SEGMENTS = (By.XPATH, "//div[@select2='segments']//ul[@class='select2-choices']//div[text()]"
                                 )  # Выбранные сегменты
    LOCATOR_BTN_PLUS_CONTACT = (By.XPATH, "//p[contains(text(), 'Контакт')]/ancestor::a")  # Кнопка +Контакт
    LOCATOR_UL_MENU_PLUS_CONTACT = (By.XPATH, "//div[@id='contractorContacts']//ul")  # Выпадающее меню +Контакт
    LOCATOR_PHONE_IN_CHAPTER_CONTACTS = (By.XPATH, "//div[@field='ValueDisplay']")  # Номер телефона в разделе Контакты


class ModalEditPhoneLocators:
    """Локаторы модалки Редактирование телефона"""
    LOCATOR_HEADER = (By.XPATH, "//b[contains(text(), 'телефона')]/parent::h4")
    LOCATOR_INPUT_PHONE = (By.XPATH, "(//input[@field='value'])[3]")  # Поле ввода Номер телефона
    LOCATOR_BTN_SAVE = (By.XPATH, "//button[@name='save']")  # Кнопка Сохранить


class ModalEditAddressLocators:
    """Локаторы модалки Редактирование адреса"""
    LOCATOR_HEADER = (By.XPATH, "//b[contains(text(), 'адреса')]/parent::h4")
    LOCATOR_BTN_ACTIVATE_UL_SUB_TYPE = (
        By.XPATH, "//div[@select2='subType']")  # Кнопка активации выпадающего списка Подтип


class TitleTransactionLocators:
    """Локаторы вкладки Сделки"""

    @staticmethod
    def locator_btn_editing_a_deal_by_deal_name(name_transaction: str):
        """Локатор кнопка Редактирование сделки по имени сделки"""
        locator_btn_editing_a_deal_by_deal_name = (
            By.XPATH,
            f"//a[contains(text(), '{name_transaction}')]/ancestor::div[@class='panel-title']//a[@title='Редактировать']"
        )
        return locator_btn_editing_a_deal_by_deal_name

    LOCATOR_BUTTON_CREATE = (By.XPATH, "//button[@class='btn btn-sm btn-info btn-create']")  # Кнопка Создать
    LOCATOR_NAME_TRANSACTION = (By.XPATH, "//span[@field='nameLink']/a")  # Название сделки


class ModalCreateTransactionLocators:
    """Локаторы модалки Сделка"""
    LOCATOR_LOADER_MODAL_TRANSACTION = (By.XPATH, "//div[@id='oppInOffers']//div[@class='loader']"
                                        )  # Лоадер в модалке Сделка
    LOCATOR_H5_HEADER = (By.XPATH, "//h5[contains(text(), 'Сделка')]")  # Заголовок Сделка ...
    LOCATOR_BUTTON_CREATE_KP = (By.XPATH, "//a[text()=' КП']")  # Кнопка +КП
    LOCATOR_BTN_SAVE = (By.XPATH, "//button[@name='save']")  # Кнопка Сохранить


class TitleDiscountsLocators:
    """Локаторы вкладки Скидки"""

    @staticmethod
    def locator_btn_edit_by_number_contract(cd_contract: str):
        """Локатор Кнопка редактировать по номеру договора"""
        locator_btn_edit_by_number_contract = (
            By.XPATH, f"//td[@column-num='1']//b[text()='{cd_contract}']//preceding::a[@title='Редактировать'][1]")
        return locator_btn_edit_by_number_contract

    LOCATOR_ARTICLE_SPECIAL_PRICE = (By.XPATH, "//input[@field='code']")  # Артикул спец. цены кода
    LOCATOR_PRICE_WITH_NDS_SPECIAL_PRICE = (By.XPATH, "//input[@field='priceRUBInOfferVAT']")  # Цена с НДС в спец. цене
    LOCATOR_DISCOUNT_SPECIAL_PRICE = (By.XPATH, "//input[@field='discountInOffer']")  # Скидка в спец. цене
